[
  {
    "name": "Test if the study design cells connected to branch_arm update the connection the updated one",
    "request": {
      "headers": {},
      "method": "GET",
      "request": {},
      "url": "/study/study_root/study-branch-arms"
    },
    "response": {
      "code": 200,
      "headers": {
        "content-length": "2",
        "content-type": "application/json"
      },
      "result": [
        {
          "studyUid": "study_root",
          "order": 1,
          "branchArmUid": "StudyBranchArm_000001",
          "name": "Branch_Arm_Name_1_edit",
          "shortName": "Branch_Arm_Short_Name_1",
          "code": "Branch_Arm_code_1",
          "description": "desc...",
          "colourCode": "colour...",
          "randomizationGroup": "Branch_Arm_randomizationGroup",
          "numberOfSubjects": 100,
          "armRoot": {
            "studyUid": "study_root",
            "order": 2,
            "armUid": "StudyArm_000003",
            "name": null,
            "shortName": null,
            "code": null,
            "description": null,
            "armColour": null,
            "randomizationGroup": null,
            "numberOfSubjects": null,
            "armType": {
              "termUid": "ArmType_0001",
              "catalogueName": "catalogue",
              "codelistUid": "CTCodelist_00004",
              "sponsorPreferredName": "Arm Type",
              "sponsorPreferredNameSentenceCase": "Arm type",
              "order": 1,
              "libraryName": "Sponsor",
              "startDate": "2022-05-25T18:33:23.904142",
              "endDate": null,
              "status": "Final",
              "version": "1.0",
              "changeDescription": "Approved version",
              "userInitials": "TODO user initials",
              "possibleActions": [
                "inactivate",
                "newVersion"
              ]
            },
            "startDate": "2022-05-06T18:30:24.320000",
            "userInitials": "TODO user initials",
            "endDate": null,
            "status": null,
            "changeType": null,
            "acceptedVersion": null
          },
          "startDate": "2022-05-06T20:30:25.219786",
          "userInitials": "test",
          "endDate": null,
          "status": null,
          "changeType": null,
          "acceptedVersion": null
        }
      ]
    }
  },
  {
    "name": "Test if the StudyDesignCells relations update arm_root",
    "request": {
      "headers": {},
      "method": "DELETE",
      "url": "/study/study_root/study-branch-arms/StudyBranchArm_000001"
    },
    "response": {
      "code": 204,
      "headers": {},
      "result": null
    }
  },
  {
    "name": "Test adding selection StudyBranchArm to switch the  StudyDeisgnCells from the StudyBranchArm to the StudyArm",
    "request": {
      "headers": {},
      "method": "POST",
      "request": {
        "name": "BranchArm_Name_7",
        "shortName": "BranchArm_Short_Name_7",
        "code": "BranchArm_code_7",
        "description": "desc...",
        "colourCode": "desc...",
        "randomizationGroup": "Randomization_Group_7",
        "numberOfSubjects": 2,
        "armUid": "StudyArm_000003"
      },
      "url": "/study/study_root/study-branch-arms/create"
    },
    "response": {
      "code": 201,
      "headers": {
        "content-length": "336",
        "content-type": "application/json"
      },
      "result": {
        "studyUid": "study_root",
        "branchArmUid": "StudyBranchArm_000005",
        "order": 1,
        "name": "BranchArm_Name_7",
        "shortName": "BranchArm_Short_Name_7",
        "code": "BranchArm_code_7",
        "startDate": "2020-06-26T00:00:00",
        "endDate": null,
        "status": null,
        "changeType": null,
        "acceptedVersion": null,
        "armRoot": {
          "studyUid": "study_root",
          "armUid": "StudyArm_000003",
          "order": 2,
          "name": null,
          "shortName": null,
          "code": null,
          "startDate": null,
          "endDate": null,
          "status": null,
          "changeType": null,
          "acceptedVersion": null,
          "armType": {
            "termUid": "ArmType_0001",
            "catalogueName": "catalogue",
            "codelistUid": "CTCodelist_00004",
            "sponsorPreferredName": "Arm Type",
            "sponsorPreferredNameSentenceCase": "Arm type",
            "order": 1,
            "libraryName": "Sponsor",
            "startDate": "2022-05-25T18:33:23.904142",
            "endDate": null,
            "status": "Final",
            "version": "1.0",
            "changeDescription": "Approved version",
            "userInitials": "TODO user initials",
            "possibleActions": [
              "inactivate",
              "newVersion"
            ]
          },
          "description": null,
          "armColour": null,
          "numberOfSubjects": null,
          "randomizationGroup": null,
          "userInitials": null
        },
        "description": "desc...",
        "colourCode": "desc...",
        "numberOfSubjects": 2,
        "randomizationGroup": "Randomization_Group_7",
        "userInitials": "TODO initials"
      },
      "save": {
        "branchArmUid": "branchArmUid"
      }
    }
  },
  {
    "name": "Test get audit trail for all design cells, should expect to the study design cell_00001 and study design cell_000002 to switch from Arm_000003 to BranchArm_000005 ",
    "request": {
      "headers": {},
      "method": "GET",
      "request": {},
      "url": "/study/study_root/study-design-cells/audit-trail/"
    },
    "headers": {
      "content-length": "336",
      "content-type": "application/json"
    },
    "response": {
      "code": 200,
      "headers": {
        "content-length": "336",
        "content-type": "application/json"
      },
      "results": [
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-18T00:36:29.737948",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-18T00:36:24.922706",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000001",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-18T00:35:46.604720",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-18T00:35:44.940534",
          "order": 1,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-18T00:36:29.871404",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-18T00:36:28.051897",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000001",
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-18T00:35:46.940031",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-18T00:35:45.335529",
          "order": 2,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000003",
          "studyArmUid": "StudyArm_000001",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000003",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-18T00:35:45.467315",
          "order": 3,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000004",
          "studyArmUid": "StudyArm_000005",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-18T00:35:47.636768",
          "order": 4,
          "changes": {}
        }
      ]
    }
  },
  {
    "name": "Test adding selection StudyBranchArm to then test delete on many StudyBranchArms so after not switch the StudyDesignCells but delete them",
    "request": {
      "headers": {},
      "method": "POST",
      "request": {
        "name": "BranchArm_Name_9",
        "shortName": "BranchArm_Short_Name_9",
        "code": "BranchArm_code_9",
        "description": "desc...",
        "colourCode": "desc...",
        "randomizationGroup": "Randomization_Group_9",
        "numberOfSubjects": 2,
        "armUid": "StudyArm_000003"
      },
      "url": "/study/study_root/study-branch-arms/create"
    },
    "response": {
      "code": 201,
      "headers": {
        "content-length": "336",
        "content-type": "application/json"
      },
      "result": {
        "studyUid": "study_root",
        "branchArmUid": "StudyBranchArm_000007",
        "order": 2,
        "name": "BranchArm_Name_9",
        "shortName": "BranchArm_Short_Name_9",
        "code": "BranchArm_code_9",
        "startDate": "2020-06-26T00:00:00",
        "endDate": null,
        "status": null,
        "changeType": null,
        "acceptedVersion": null,
        "armRoot": {
          "studyUid": "study_root",
          "armUid": "StudyArm_000003",
          "order": 2,
          "name": null,
          "shortName": null,
          "code": null,
          "startDate": null,
          "endDate": null,
          "status": null,
          "changeType": null,
          "acceptedVersion": null,
          "armType": {
            "termUid": "ArmType_0001",
            "catalogueName": "catalogue",
            "codelistUid": "CTCodelist_00004",
            "sponsorPreferredName": "Arm Type",
            "sponsorPreferredNameSentenceCase": "Arm type",
            "order": 1,
            "libraryName": "Sponsor",
            "startDate": "2022-05-25T18:33:23.904142",
            "endDate": null,
            "status": "Final",
            "version": "1.0",
            "changeDescription": "Approved version",
            "userInitials": "TODO user initials",
            "possibleActions": [
              "inactivate",
              "newVersion"
            ]
          },
          "description": null,
          "armColour": null,
          "numberOfSubjects": null,
          "randomizationGroup": null,
          "userInitials": null
        },
        "description": "desc...",
        "colourCode": "desc...",
        "numberOfSubjects": 2,
        "randomizationGroup": "Randomization_Group_9",
        "userInitials": "TODO initials"
      },
      "save": {
        "branchArmUid": "branchArmUid"
      }
    }
  },
  {
    "name": "Test adding DesignCell to the many StudyBranch",
    "request": {
      "headers": {},
      "method": "POST",
      "request": {
        "studyBranchArmUid": "StudyBranchArm_000007",
        "studyEpochUid": "StudyEpoch_000001",
        "studyElementUid": "StudyElement_000001",
        "transitionRule": "Transition_Rule_3"
      },
      "url": "/study/study_root/study-design-cells"
    },
    "headers": {
      "content-length": "336",
      "content-type": "application/json"
    },
    "response": {
      "code": 201,
      "headers": {
        "content-length": "336",
        "content-type": "application/json"
      },
      "results": {
        "studyUid": "study_root",
        "designCellUid": "StudyDesignCell_000005",
        "studyArmUid": null,
        "studyArmName": null,
        "studyBranchArmUid": "StudyBranchArm_000007",
        "studyBranchArmName": "BranchArm_Name_9",
        "studyEpochUid": "StudyEpoch_000001",
        "studyEpochName": "Epoch Subtype 1",
        "studyElementUid": "StudyElement_000001",
        "studyElementName": "Element_Name_1",
        "transitionRule": null,
        "startDate": "2022-05-24T05:19:45.543839",
        "userInitials": "TEST_USER",
        "order": 5
      }
    }
  },
  {
    "name": "Test patch specific - try to patch the StudyArm of a StudyBranchArm that has StudyDesignCell connected to it  ",
    "request": {
      "headers": {},
      "method": "PATCH",
      "request": {
        "armUid": "StudyArm_000001"
      },
      "url": "/study/study_root/study-branch-arms/StudyBranchArm_000007"
    },
    "response": {
      "code": 400,
      "result": {
        "message": "Cannot change StudyArm when the specific BranchArm (StudyBranchArm_000007) has connected StudyDesignCells",
        "method": "PATCH",
        "path": "http://testserver/study/study_root/study-branch-arms/StudyBranchArm_000007",
        "time": "2020-11-10T01:51:17.884429",
        "type": "ValidationException"
      }
    }
  },
  {
    "name": "Test test if the cascade delete of StudyDesignCells on the study_arm works",
    "request": {
      "headers": {},
      "method": "DELETE",
      "url": "/study/study_root/study-arms/StudyArm_000005"
    },
    "response": {
      "code": 204,
      "headers": {},
      "result": null
    }
  },
  {
    "name": "Test get audit trail for all design cells, should expect  to delete the study design cell 000004 change of order of study design cell 00005 ",
    "request": {
      "headers": {},
      "method": "GET",
      "request": {},
      "url": "/study/study_root/study-design-cells/audit-trail/"
    },
    "headers": {
      "content-length": "336",
      "content-type": "application/json"
    },
    "response": {
      "code": 200,
      "headers": {
        "content-length": "336",
        "content-type": "application/json"
      },
      "results": [
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-18T01:09:12.025786",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-18T01:09:11.261693",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000001",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-18T01:08:39.020181",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-18T01:08:37.091628",
          "order": 1,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-18T01:09:12.163055",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-18T01:09:11.402550",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000001",
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-18T01:08:39.388787",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-18T01:08:37.551502",
          "order": 2,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000003",
          "studyArmUid": "StudyArm_000001",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000003",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-18T01:08:37.699663",
          "order": 3,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000004",
          "studyArmUid": "StudyArm_000005",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-18T01:09:25.802254",
          "order": 4,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000004",
          "studyArmUid": "StudyArm_000005",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-18T01:08:40.174903",
          "order": 4,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000005",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000007",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-18T01:09:26.260200",
          "order": 4,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": true
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000005",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000007",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-18T01:09:12.687131",
          "order": 5,
          "changes": {}
        }
      ]
    }
  },
  {
    "name": "Test patch specific - set name",
    "request": {
      "headers": {},
      "method": "PATCH",
      "request": {
        "name": "New_Element_Name_2",
        "elementSubTypeUid": "ElementType_0001"
      },
      "url": "/study/study_root/study-elements/StudyElement_000001"
    },
    "response": {
      "code": 200,
      "headers": {
        "content-length": "389",
        "content-type": "application/json"
      },
      "result": {
        "studyUid": "study_root",
        "order": 1,
        "elementUid": "StudyElement_000001",
        "name": "New_Element_Name_2",
        "shortName": "Element_Short_Name_1",
        "code": "Element_code_1",
        "description": "desc...",
        "plannedDuration": null,
        "startRule": null,
        "endRule": null,
        "elementColour": null,
        "studyCompoundDosingCount": 0,
        "elementSubType": {
          "termUid": "ElementType_0001",
          "catalogueName": "catalogue",
          "codelistUid": "CTCodelist_ElementType",
          "sponsorPreferredName": "Element Type",
          "sponsorPreferredNameSentenceCase": "Element type",
          "order": 1,
          "libraryName": "Sponsor",
          "startDate": "2022-05-26T09:03:34.123047",
          "endDate": null,
          "status": "Final",
          "version": "1.0",
          "changeDescription": "Approved version",
          "userInitials": "TODO user initials",
          "possibleActions": [
            "inactivate",
            "newVersion"
          ]
        },
        "startDate": "2022-05-26T09:04:02.802214",
        "userInitials": "TEST_USER",
        "endDate": null,
        "status": null,
        "changeType": null,
        "acceptedVersion": null
      }
    }
  },
  {
    "name": "Test adding selection StudyBranchArm and then deleting it to test that the nested branches on arms are just the one with study_value connected to them",
    "request": {
      "headers": {},
      "method": "POST",
      "request": {
        "name": "BranchArm_Name_10",
        "shortName": "BranchArm_Short_Name_10",
        "code": "BranchArm_code_10",
        "description": "desc...",
        "colourCode": "desc...",
        "randomizationGroup": "Randomization_Group_10",
        "numberOfSubjects": 2,
        "armUid": "StudyArm_000003"
      },
      "url": "/study/study_root/study-branch-arms/create"
    },
    "response": {
      "code": 201,
      "headers": {
        "content-length": "336",
        "content-type": "application/json"
      },
      "result": {
        "studyUid": "study_root",
        "branchArmUid": "StudyBranchArm_000009",
        "order": 3,
        "name": "BranchArm_Name_10",
        "shortName": "BranchArm_Short_Name_10",
        "code": "BranchArm_code_10",
        "startDate": "2020-06-26T00:00:00",
        "endDate": null,
        "status": null,
        "changeType": null,
        "acceptedVersion": null,
        "armRoot": {
          "studyUid": "study_root",
          "armUid": "StudyArm_000003",
          "order": 2,
          "name": null,
          "shortName": null,
          "code": null,
          "startDate": null,
          "endDate": null,
          "status": null,
          "changeType": null,
          "acceptedVersion": null,
          "armType": {
            "termUid": "ArmType_0001",
            "catalogueName": "catalogue",
            "codelistUid": "CTCodelist_00004",
            "sponsorPreferredName": "Arm Type",
            "sponsorPreferredNameSentenceCase": "Arm type",
            "order": 1,
            "libraryName": "Sponsor",
            "startDate": "2022-05-25T18:33:23.904142",
            "endDate": null,
            "status": "Final",
            "version": "1.0",
            "changeDescription": "Approved version",
            "userInitials": "TODO user initials",
            "possibleActions": [
              "inactivate",
              "newVersion"
            ]
          },
          "description": null,
          "armColour": null,
          "numberOfSubjects": null,
          "randomizationGroup": null,
          "userInitials": null
        },
        "description": "desc...",
        "colourCode": "desc...",
        "numberOfSubjects": 2,
        "randomizationGroup": "Randomization_Group_10",
        "userInitials": "TODO initials"
      },
      "save": {
        "branchArmUid": "branchArmUid"
      }
    }
  },
  {
    "name": "Test adding DesignCell to the many StudyBranch",
    "request": {
      "headers": {},
      "method": "POST",
      "request": {
        "studyBranchArmUid": "StudyBranchArm_000009",
        "studyEpochUid": "StudyEpoch_000001",
        "studyElementUid": "StudyElement_000001",
        "transitionRule": "Transition_Rule_4"
      },
      "url": "/study/study_root/study-design-cells"
    },
    "headers": {
      "content-length": "336",
      "content-type": "application/json"
    },
    "response": {
      "code": 201,
      "headers": {
        "content-length": "336",
        "content-type": "application/json"
      },
      "results": {
        "studyUid": "study_root",
        "designCellUid": "StudyDesignCell_000006",
        "studyArmUid": null,
        "studyArmName": null,
        "studyBranchArmUid": "StudyBranchArm_000009",
        "studyBranchArmName": "BranchArm_Name_10",
        "studyEpochUid": "StudyEpoch_000001",
        "studyEpochName": "Epoch Subtype 1",
        "studyElementUid": "StudyElement_000001",
        "studyElementName": "New_Element_Name_2",
        "transitionRule": null,
        "startDate": "2022-05-24T05:19:45.543839",
        "userInitials": "TEST_USER",
        "order": 5
      }
    }
  },
  {
    "name": "Test delete StudyBranchArms to then be sure that the connected branches are just those who actually has study_value connection",
    "request": {
      "headers": {},
      "method": "DELETE",
      "url": "/study/study_root/study-branch-arms/StudyBranchArm_000009"
    },
    "response": {
      "code": 204,
      "headers": {},
      "result": null
    }
  },
  {
    "name": "be sure that the connected branches are just those who actually has study_value connection",
    "request": {
      "headers": {},
      "method": "GET",
      "request": {},
      "url": "/study/study_root/study-arms/StudyArm_000003"
    },
    "response": {
      "code": 200,
      "headers": {
        "content-length": "389",
        "content-type": "application/json"
      },
      "result": {
        "studyUid": "study_root",
        "order": 2,
        "armUid": "StudyArm_000003",
        "name": "Arm_Name_2",
        "shortName": "Arm_Short_Name_2",
        "code": "Arm_code_2",
        "description": "desc...",
        "armColour": null,
        "randomizationGroup": "Arm_randomizationGroup2",
        "numberOfSubjects": 100,
        "armType": {
          "termUid": "ArmType_0001",
          "catalogueName": "catalogue",
          "codelistUid": "CTCodelist_00004",
          "sponsorPreferredName": "Arm Type",
          "sponsorPreferredNameSentenceCase": "Arm type",
          "order": 1,
          "libraryName": "Sponsor",
          "startDate": "2022-07-15T12:46:20.688175",
          "endDate": null,
          "status": "Final",
          "version": "1.0",
          "changeDescription": "Approved version",
          "userInitials": "TODO user initials",
          "possibleActions": [
            "inactivate",
            "newVersion"
          ]
        },
        "startDate": "2022-07-15T12:46:20.981552",
        "userInitials": "test",
        "endDate": null,
        "status": null,
        "changeType": null,
        "acceptedVersion": null,
        "armConnectedBranchArms": [
          {
            "studyUid": "study_root",
            "order": 1,
            "branchArmUid": "StudyBranchArm_000005",
            "name": "BranchArm_Name_7",
            "shortName": "BranchArm_Short_Name_7",
            "code": "BranchArm_code_7",
            "description": "desc...",
            "colourCode": "desc...",
            "randomizationGroup": "Randomization_Group_7",
            "numberOfSubjects": 2,
            "startDate": "2022-07-15T12:47:00.095941",
            "userInitials": "test",
            "endDate": null,
            "status": null,
            "changeType": null,
            "acceptedVersion": null
          },
          {
            "studyUid": "study_root",
            "order": 2,
            "branchArmUid": "StudyBranchArm_000007",
            "name": "BranchArm_Name_9",
            "shortName": "BranchArm_Short_Name_9",
            "code": "BranchArm_code_9",
            "description": "desc...",
            "colourCode": "desc...",
            "randomizationGroup": "Randomization_Group_9",
            "numberOfSubjects": 2,
            "startDate": "2022-07-15T12:47:00.095978",
            "userInitials": "test",
            "endDate": null,
            "status": null,
            "changeType": null,
            "acceptedVersion": null
          }
        ]
      }
    }
  },
  {
    "name": "Test patch specific - set arm type Uid to null ",
    "request": {
      "headers": {},
      "method": "PATCH",
      "request": {
        "armTypeUid": ""
      },
      "url": "/study/study_root/study-arms/StudyArm_000003"
    },
    "response": {
      "code": 200,
      "headers": {
        "content-length": "389",
        "content-type": "application/json"
      },
      "result": {
        "studyUid": "study_root",
        "order": 2,
        "armUid": "StudyArm_000003",
        "name": "Arm_Name_2",
        "shortName": "Arm_Short_Name_2",
        "code": "Arm_code_2",
        "description": "desc...",
        "armColour": null,
        "randomizationGroup": "Arm_randomizationGroup2",
        "numberOfSubjects": 100,
        "armType": null,
        "startDate": "2022-06-15T16:09:43.164169",
        "userInitials": "TEST_USER",
        "endDate": null,
        "status": null,
        "changeType": null,
        "acceptedVersion": null,
        "armConnectedBranchArms": [
          {
            "studyUid": "study_root",
            "order": 1,
            "branchArmUid": "StudyBranchArm_000005",
            "name": "BranchArm_Name_7",
            "shortName": "BranchArm_Short_Name_7",
            "code": "BranchArm_code_7",
            "description": "desc...",
            "colourCode": "desc...",
            "randomizationGroup": "Randomization_Group_7",
            "numberOfSubjects": 2,
            "startDate": "2022-06-15T17:00:12.290719",
            "userInitials": "TEST_USER",
            "endDate": null,
            "status": null,
            "changeType": null,
            "acceptedVersion": null
          },
          {
            "studyUid": "study_root",
            "order": 2,
            "branchArmUid": "StudyBranchArm_000007",
            "name": "BranchArm_Name_9",
            "shortName": "BranchArm_Short_Name_9",
            "code": "BranchArm_code_9",
            "description": "desc...",
            "colourCode": "desc...",
            "randomizationGroup": "Randomization_Group_9",
            "numberOfSubjects": 2,
            "startDate": "2022-06-15T17:00:12.290660",
            "userInitials": "TEST_USER",
            "endDate": null,
            "status": null,
            "changeType": null,
            "acceptedVersion": null
          }
        ]
      }
    }
  },
  {
    "name": "Test test if the cascade delete on the study_arm works with design cells",
    "request": {
      "headers": {},
      "method": "DELETE",
      "url": "/study/study_root/study-arms/StudyArm_000003"
    },
    "response": {
      "code": 204,
      "headers": {},
      "result": null
    }
  },
  {
    "name": "Test get audit trail for all design cells, should expect  0005 to be switched to arm and then deleted the 0002 and 0001 should be just deleted not switched and the 00003 to be reordered",
    "request": {
      "headers": {},
      "method": "GET",
      "request": {},
      "url": "/study/study_root/study-design-cells/audit-trail/"
    },
    "headers": {
      "content-length": "336",
      "content-type": "application/json"
    },
    "response": {
      "code": 200,
      "headers": {
        "content-length": "336",
        "content-type": "application/json"
      },
      "results": [
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:35:31.175407",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:35:21.149125",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:35:20.569759",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000001",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:34:49.809828",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:34:48.181840",
          "order": 1,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:35:30.954534",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:35:21.279787",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:35:20.684697",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000001",
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:34:50.137539",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:34:48.565867",
          "order": 2,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000003",
          "studyArmUid": "StudyArm_000001",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000003",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:35:31.271720",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": true
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000003",
          "studyArmUid": "StudyArm_000001",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000003",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:35:31.066456",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": true
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000003",
          "studyArmUid": "StudyArm_000001",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000003",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:34:48.696455",
          "order": 3,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000004",
          "studyArmUid": "StudyArm_000005",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:35:25.973751",
          "order": 4,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000004",
          "studyArmUid": "StudyArm_000005",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:34:50.876689",
          "order": 4,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000005",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:35:30.788049",
          "order": 4,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000005",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:35:30.223431",
          "order": 4,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000005",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000007",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:35:26.361193",
          "order": 4,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": true
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000005",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000007",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:35:21.754358",
          "order": 5,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000006",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000009",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:35:27.379857",
          "order": 5,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000006",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000009",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:35:27.206656",
          "order": 5,
          "changes": {}
        }
      ]
    }
  },
  {
    "name": "Test if the cascade delete works with StudyElement",
    "request": {
      "headers": {},
      "method": "DELETE",
      "url": "/study/study_root/study-elements/StudyElement_000003"
    },
    "response": {
      "code": 204,
      "headers": {},
      "result": null
    }
  },
  {
    "name": "Test get audit trail for all design cells, should expect to the study design cell_00003 to be deleted ",
    "request": {
      "headers": {},
      "method": "GET",
      "request": {},
      "url": "/study/study_root/study-design-cells/audit-trail/"
    },
    "headers": {
      "content-length": "336",
      "content-type": "application/json"
    },
    "response": {
      "code": 200,
      "headers": {
        "content-length": "336",
        "content-type": "application/json"
      },
      "results": [
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:43:33.690992",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:42:30.687820",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:42:30.135816",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000001",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:42:00.629947",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:41:59.075177",
          "order": 1,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:43:33.497029",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:42:30.796511",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:42:30.235400",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000001",
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:42:00.940370",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:41:59.464912",
          "order": 2,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000003",
          "studyArmUid": "StudyArm_000001",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000003",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:43:34.256641",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000003",
          "studyArmUid": "StudyArm_000001",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000003",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:43:33.775274",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": true
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000003",
          "studyArmUid": "StudyArm_000001",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000003",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:43:33.585247",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": true
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000003",
          "studyArmUid": "StudyArm_000001",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000003",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:41:59.578465",
          "order": 3,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000004",
          "studyArmUid": "StudyArm_000005",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:43:30.076268",
          "order": 4,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000004",
          "studyArmUid": "StudyArm_000005",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:42:01.562179",
          "order": 4,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000005",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:43:33.361581",
          "order": 4,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000005",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:43:32.829800",
          "order": 4,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000005",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000007",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:43:30.442923",
          "order": 4,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": true
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000005",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000007",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:42:31.224397",
          "order": 5,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000006",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000009",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:43:31.386697",
          "order": 5,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000006",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000009",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:43:31.220251",
          "order": 5,
          "changes": {}
        }
      ]
    }
  },
  {
    "name": "Test adding DesignCell to have the scenario of having many StudyBranch",
    "request": {
      "headers": {},
      "method": "POST",
      "request": {
        "studyArmUid": "StudyArm_000001",
        "studyEpochUid": "StudyEpoch_000001",
        "studyElementUid": "StudyElement_000001",
        "transitionRule": "Transition_Rule_4"
      },
      "url": "/study/study_root/study-design-cells"
    },
    "headers": {
      "content-length": "336",
      "content-type": "application/json"
    },
    "response": {
      "code": 201,
      "headers": {
        "content-length": "336",
        "content-type": "application/json"
      },
      "results": {
        "studyUid": "study_root",
        "designCellUid": "StudyDesignCell_000007",
        "studyArmUid": "StudyArm_000001",
        "studyArmName": "Arm_Name_1",
        "studyBranchArmUid": null,
        "studyBranchArmName": null,
        "studyEpochUid": "StudyEpoch_000001",
        "studyEpochName": "Epoch Subtype 1",
        "studyElementUid": "StudyElement_000001",
        "studyElementName": "New_Element_Name_2",
        "transitionRule": null,
        "startDate": "2022-06-21T18:16:46.917417",
        "userInitials": "TEST_USER",
        "order": 1
      }
    }
  },
  {
    "name": "Test if the cascade delete on the study_epochs works deleting StudyDesignCells attached to it",
    "request": {
      "headers": {},
      "method": "DELETE",
      "url": "/study/study_root/study-epochs/StudyEpoch_000001"
    },
    "response": {
      "code": 204,
      "headers": {},
      "result": null
    }
  },
  {
    "name": "Test the StudyEpoch Delete functionality actually deletes the StudyEpoch",
    "request": {
      "headers": {},
      "method": "GET",
      "request": {},
      "url": "/study/study_root/study-epochs"
    },
    "response": {
      "code": 200,
      "headers": {
        "content-length": "2",
        "content-type": "application/json"
      },
      "result": {
        "items": [
          {
            "studyUid": "study_root",
            "startRule": "New start rule",
            "endRule": "New end rule",
            "epoch": "EpochSubType_0001",
            "epochSubType": "EpochSubType_0001",
            "durationUnit": null,
            "order": 1,
            "description": "test_description",
            "duration": 0,
            "colorHash": "#1100FF",
            "uid": "StudyEpoch_000002",
            "epochName": "Epoch Subtype",
            "epochSubTypeName": "Epoch Subtype",
            "epochType": "EpochType_0001",
            "startDay": null,
            "endDay": null,
            "startDate": "2022-06-23 16:15:43",
            "status": "DRAFT",
            "userInitials": "TODO Initials",
            "possibleActions": [
              "edit",
              "delete",
              "lock",
              "reorder"
            ],
            "changeDescription": "Initial Version",
            "studyVisitCount": 0
          }
        ],
        "total": 0,
        "page": 1,
        "size": 0
      }
    }
  },
  {
    "name": "Test get audit trail for all design cells, should expect to the study design cell_00004 to be deleted and the study design cell_000005 to change order ",
    "request": {
      "headers": {},
      "method": "GET",
      "request": {},
      "url": "/study/study_root/study-design-cells/audit-trail/"
    },
    "headers": {
      "content-length": "336",
      "content-type": "application/json"
    },
    "response": {
      "code": 200,
      "headers": {
        "content-length": "336",
        "content-type": "application/json"
      },
      "results": [
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:49:39.851190",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:49:30.255567",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:49:29.633071",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000001",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:48:58.411604",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000001",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:48:56.719502",
          "order": 1,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:49:39.605062",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000005",
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:49:30.392729",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:49:29.753676",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000001",
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:48:58.777355",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000002",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:48:57.104671",
          "order": 2,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000003",
          "studyArmUid": "StudyArm_000001",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000003",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:49:40.734050",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000003",
          "studyArmUid": "StudyArm_000001",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000003",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:49:39.975940",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": true
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000003",
          "studyArmUid": "StudyArm_000001",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000003",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:49:39.716713",
          "order": 2,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": true
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000003",
          "studyArmUid": "StudyArm_000001",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000003",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:48:57.233329",
          "order": 3,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000004",
          "studyArmUid": "StudyArm_000005",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:49:36.110417",
          "order": 4,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000004",
          "studyArmUid": "StudyArm_000005",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000002",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:48:59.450805",
          "order": 4,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000005",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:49:39.447634",
          "order": 4,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000005",
          "studyArmUid": "StudyArm_000003",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:49:38.886084",
          "order": 4,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": true,
            "studyBranchArmUid": true,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": false,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000005",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000007",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Edit",
          "modified": "2022-08-19T01:49:36.520899",
          "order": 4,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": true
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000005",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000007",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:49:30.968135",
          "order": 5,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000006",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000009",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:49:37.548058",
          "order": 5,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000006",
          "studyArmUid": null,
          "studyBranchArmUid": "StudyBranchArm_000009",
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:49:37.380974",
          "order": 5,
          "changes": {}
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000007",
          "studyArmUid": "StudyArm_000001",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Delete",
          "modified": "2022-08-19T01:49:41.766462",
          "order": 1,
          "changes": {
            "studyUid": false,
            "studyDesignCellUid": false,
            "studyArmUid": false,
            "studyBranchArmUid": false,
            "studyEpochUid": false,
            "studyElementUid": false,
            "transitionRule": false,
            "changeType": true,
            "modified": true,
            "order": false
          }
        },
        {
          "studyUid": "study_root",
          "studyDesignCellUid": "StudyDesignCell_000007",
          "studyArmUid": "StudyArm_000001",
          "studyBranchArmUid": null,
          "studyEpochUid": "StudyEpoch_000001",
          "studyElementUid": "StudyElement_000001",
          "transitionRule": null,
          "changeType": "Create",
          "modified": "2022-08-19T01:49:41.153926",
          "order": 1,
          "changes": {}
        }
      ]
    }
  },
  {
    "name": "The remained StudyDesignCells should be cascade deleted after deleting the StudyEpoch",
    "request": {
      "headers": {},
      "method": "GET",
      "request": {},
      "url": "/study/study_root/study-design-cells"
    },
    "headers": {
      "content-length": "336",
      "content-type": "application/json"
    },
    "response": {
      "code": 200,
      "headers": {
        "content-length": "336",
        "content-type": "application/json"
      },
      "results": []
    }
  },
  {
    "name": "Test test if the cascade delete on the study_arm works with cohorts",
    "request": {
      "headers": {},
      "method": "DELETE",
      "url": "/study/study_root/study-arms/StudyArm_000001"
    },
    "response": {
      "code": 204,
      "headers": {},
      "result": null
    }
  },
  {
    "name": "Test adding selection StudyBranchArm to test that the Business exception has to be raise if a study design cell is trying to connect to an Arm that has BranchArms connected to it ",
    "request": {
      "headers": {},
      "method": "POST",
      "request": {
        "name": "BranchArm_Name_15",
        "shortName": "BranchArm_Short_Name_15",
        "code": "BranchArm_code_15",
        "description": "desc...",
        "colourCode": "desc...",
        "randomizationGroup": "Randomization_Group_15",
        "numberOfSubjects": 10,
        "armUid": "StudyArm_000007"
      },
      "url": "/study/study_root/study-branch-arms/create"
    },
    "response": {
      "code": 201,
      "headers": {
        "content-length": "336",
        "content-type": "application/json"
      },
      "result": {
        "studyUid": "study_root",
        "order": 1,
        "branchArmUid": "StudyBranchArm_000015",
        "name": "BranchArm_Name_15",
        "shortName": "BranchArm_Short_Name_15",
        "code": "BranchArm_code_15",
        "description": "desc...",
        "colourCode": "desc...",
        "randomizationGroup": "Randomization_Group_15",
        "numberOfSubjects": 10,
        "startDate": "2022-08-22T23:04:24.356850",
        "userInitials": "TEST_USER",
        "endDate": null,
        "status": null,
        "changeType": null,
        "acceptedVersion": false,
        "armRoot": {
          "studyUid": "study_root",
          "order": 1,
          "armUid": "StudyArm_000007",
          "name": "Arm_Name_9",
          "shortName": "Arm_Short_Name_9",
          "code": "Arm_code_9",
          "description": "desc...",
          "armColour": null,
          "randomizationGroup": "Arm_randomizationGroup9",
          "numberOfSubjects": 100,
          "armType": {
            "termUid": "ArmType_0001",
            "catalogueName": "catalogue",
            "codelistUid": "CTCodelist_00004",
            "sponsorPreferredName": "Arm Type",
            "sponsorPreferredNameSentenceCase": "Arm type",
            "order": 1,
            "libraryName": "Sponsor",
            "startDate": "2022-08-22T23:03:21.482985",
            "endDate": null,
            "status": "Final",
            "version": "1.0",
            "changeDescription": "Approved version",
            "userInitials": "TODO user initials",
            "possibleActions": [
              "inactivate",
              "newVersion"
            ]
          },
          "startDate": "2022-08-22T23:04:24.199491",
          "userInitials": "TEST_USER",
          "endDate": null,
          "status": null,
          "changeType": null,
          "acceptedVersion": false
        }
      },
      "save": {
        "branchArmUid": "branchArmUid"
      }
    }
  },
  {
    "name": "Test adding DesignCell that has a StudyArm assigned that has StudyBranchArms connected to it raise the Business ",
    "request": {
      "headers": {},
      "method": "POST",
      "request": {
        "studyArmUid": "StudyArm_000007",
        "studyBranchArmUid": "StudyBranchArm_000015",
        "studyEpochUid": "StudyEpoch_000002",
        "studyElementUid": "StudyElement_000002",
        "transitionRule": "Transition_Rule_4"
      },
      "url": "/study/study_root/study-design-cells"
    },
    "headers": {
      "content-length": "336",
      "content-type": "application/json"
    },
    "response": {
      "code": 400,
      "headers": {
        "content-length": "336",
        "content-type": "application/json"
      },
      "results": {
        "type": "BusinessLogicException",
        "message": "The Study Arm with uid StudyArm_000007 cannot be assigned to a Study Design Cell because it has Study Branch Arms assigned to it",
        "time": "2022-08-22T23:07:33.958163",
        "path": "http://testserver/study/study_root/study-design-cells",
        "method": "POST"
      }
    }
  }
]