[
  
{
  
  
"name": "Test adding selection 1st",
  
  
"request": {
  
  
  
"headers": {},
  
  
  
"method": "POST",
  
  
  
"request": {
  
  
  
  
"name": "BranchArm_Name_1",
  
  
  
  
"shortName": "BranchArm_Short_Name_1",
  
  
  
  
"code": "BranchArm_code_1",
  
  
  
  
"description": "desc...",
  
  
  
  
"colourCode": "desc...",
  
  
  
  
"randomizationGroup": "Randomization_Group_1",
  
  
  
  
"numberOfSubjects": 1,
  
  
  
  
"armUid": "StudyArm_000001"
  
  
  
},
  
  
  
"url": "/study/study_root/study-branch-arms/create"
  
  
},
  
  
"response": {
  
  
  
"code": 201,
  
  
  
"headers": {
  
  
  
  
"content-length": "336",
  
  
  
  
"content-type": "application/json"
  
  
  
},
  
  
  
"result": {
  
  
  
  
"studyUid": "study_root",
  
  
  
  
"branchArmUid": "StudyBranchArm_000001",
  
  
  
  
"order": 1,
  
  
  
  
"name": "BranchArm_Name_1",
  
  
  
  
"shortName": "BranchArm_Short_Name_1",
  
  
  
  
"code": "BranchArm_code_1",
  
  
  
  
"startDate": "2020-06-26T00:00:00",
  
  
  
  
"endDate": null,
  
  
  
  
"status": null,
  
  
  
  
"changeType": null,
  
  
  
  
"acceptedVersion": null,
  
  
  
  
"armRoot": {
  
  
  
  
  
"studyUid": "study_root",
  
  
  
  
  
"armUid": "StudyArm_000001",
  
  
  
  
  
"order": 1,
  
  
  
  
  
"name": null,
  
  
  
  
  
"shortName": null,
  
  
  
  
  
"code": null,
  
  
  
  
  
"startDate": null,
  
  
  
  
  
"endDate": null,
  
  
  
  
  
"status": null,
  
  
  
  
  
"changeType": null,
  
  
  
  
  
"acceptedVersion": null,
  
  
  
  
  
"armType": {
  
  
  
  
  
  
"termUid": "term_root_final",
  
  
  
  
  
  
"catalogueName": "SDTM CT",
  
  
  
  
  
  
"codelistUid": "ct_codelist_root1",
  
  
  
  
  
  
"sponsorPreferredName": "term_value_name1",
  
  
  
  
  
  
"sponsorPreferredNameSentenceCase": "term_value_name_sentence_case",
  
  
  
  
  
  
"libraryName": "Sponsor",
  
  
  
  
  
  
"startDate": "2020-06-26T00:00:00",
  
  
  
  
  
  
"order": null,
  
  
  
  
  
  
"endDate": null,
  
  
  
  
  
  
"status": "Final",
  
  
  
  
  
  
"version": "1.0",
  
  
  
  
  
  
"changeDescription": "Approved version",
  
  
  
  
  
  
"userInitials": "TODO initials",
  
  
  
  
  
  
"possibleActions": [
  
  
  
  
  
  
  
"inactivate",
  
  
  
  
  
  
  
"newVersion"
  
  
  
  
  
  
]
  
  
  
  
  
},
  
  
  
  
  
"description": null,
  
  
  
  
  
"armColour": null,
  
  
  
  
  
"numberOfSubjects": null,
  
  
  
  
  
"randomizationGroup": null,
  
  
  
  
  
"userInitials": null
  
  
  
  
},
  
  
  
  
"description": "desc...",
  
  
  
  
"colourCode": "desc...",
  
  
  
  
"numberOfSubjects": 1,
  
  
  
  
"randomizationGroup": "Randomization_Group_1",
  
  
  
  
"userInitials": "TODO initials"
  
  
  
},
  
  
  
"save": {
  
  
  
  
"branchArmUid": "branchArmUid"
  
  
  
}
  
  
}
  
},
  
{
  
  
"name": "Test adding selection 2nd",
  
  
"request": {
  
  
  
"headers": {},
  
  
  
"method": "POST",
  
  
  
"request": {
  
  
  
  
"name": "BranchArm_Name_2",
  
  
  
  
"shortName": "BranchArm_Short_Name_2",
  
  
  
  
"code": "BranchArm_code_2",
  
  
  
  
"description": "desc...",
  
  
  
  
"colourCode": "desc...",
  
  
  
  
"randomizationGroup": "Randomization_Group_2",
  
  
  
  
"numberOfSubjects": 2,
  
  
  
  
"armUid": "StudyArm_000001"
  
  
  
},
  
  
  
"url": "/study/study_root/study-branch-arms/create"
  
  
},
  
  
"response": {
  
  
  
"code": 201,
  
  
  
"headers": {
  
  
  
  
"content-length": "336",
  
  
  
  
"content-type": "application/json"
  
  
  
},
  
  
  
"result": {
  
  
  
  
"studyUid": "study_root",
  
  
  
  
"branchArmUid": "StudyBranchArm_000003",
  
  
  
  
"order": 2,
  
  
  
  
"name": "BranchArm_Name_2",
  
  
  
  
"shortName": "BranchArm_Short_Name_2",
  
  
  
  
"code": "BranchArm_code_2",
  
  
  
  
"startDate": "2020-06-26T00:00:00",
  
  
  
  
"endDate": null,
  
  
  
  
"status": null,
  
  
  
  
"changeType": null,
  
  
  
  
"acceptedVersion": null,
  
  
  
  
"armRoot": {
  
  
  
  
  
"studyUid": "study_root",
  
  
  
  
  
"armUid": "StudyArm_000001",
  
  
  
  
  
"order": 1,
  
  
  
  
  
"name": null,
  
  
  
  
  
"shortName": null,
  
  
  
  
  
"code": null,
  
  
  
  
  
"startDate": null,
  
  
  
  
  
"endDate": null,
  
  
  
  
  
"status": null,
  
  
  
  
  
"changeType": null,
  
  
  
  
  
"acceptedVersion": null,
  
  
  
  
  
"armType": {
  
  
  
  
  
  
"termUid": "term_root_final",
  
  
  
  
  
  
"catalogueName": "SDTM CT",
  
  
  
  
  
  
"codelistUid": "ct_codelist_root1",
  
  
  
  
  
  
"sponsorPreferredName": "term_value_name1",
  
  
  
  
  
  
"sponsorPreferredNameSentenceCase": "term_value_name_sentence_case",
  
  
  
  
  
  
"libraryName": "Sponsor",
  
  
  
  
  
  
"startDate": "2020-06-26T00:00:00",
  
  
  
  
  
  
"order": null,
  
  
  
  
  
  
"endDate": null,
  
  
  
  
  
  
"status": "Final",
  
  
  
  
  
  
"version": "1.0",
  
  
  
  
  
  
"changeDescription": "Approved version",
  
  
  
  
  
  
"userInitials": "TODO initials",
  
  
  
  
  
  
"possibleActions": [
  
  
  
  
  
  
  
"inactivate",
  
  
  
  
  
  
  
"newVersion"
  
  
  
  
  
  
]
  
  
  
  
  
},
  
  
  
  
  
"description": null,
  
  
  
  
  
"armColour": null,
  
  
  
  
  
"numberOfSubjects": null,
  
  
  
  
  
"randomizationGroup": null,
  
  
  
  
  
"userInitials": null
  
  
  
  
},
  
  
  
  
"description": "desc...",
  
  
  
  
"colourCode": "desc...",
  
  
  
  
"numberOfSubjects": 2,
  
  
  
  
"randomizationGroup": "Randomization_Group_2",
  
  
  
  
"userInitials": "TODO initials"
  
  
  
},
  
  
  
"save": {
  
  
  
  
"branchArmUid": "branchArmUid"
  
  
  
}
  
  
}
  
},
  
{
  
  
"name": "Test adding selection",
  
  
"request": {
  
  
  
"headers": {},
  
  
  
"method": "POST",
  
  
  
"request": {
  
  
  
  
"name": "BranchArm_Name_1",
  
  
  
  
"shortName": "BranchArm_Short_Name_9",
  
  
  
  
"code": "BranchArm_code_9",
  
  
  
  
"description": "desc...",
  
  
  
  
"colourCode": "desc...",
  
  
  
  
"randomizationGroup": "Randomization_Group_9",
  
  
  
  
"numberOfSubjects": 1,
  
  
  
  
"armUid": "StudyArm_000001"
  
  
  
},
  
  
  
"url": "/study/study_root/study-branch-arms/create"
  
  
},
  
  
"response": {
  
  
  
"code": 400,
  
  
  
"result": {
  
  
  
  
"message": "Value \"BranchArm_Name_1\" in field Branch Arm Name is not unique for the study",
  
  
  
  
"method": "POST",
  
  
  
  
"path": "http://testserver/study/study_root/study-branch-arms/create",
  
  
  
  
"time": "2020-11-10T01:51:17.884429",
  
  
  
  
"type": "ValidationException"
  
  
  
}
  
  
}
  
},
  
{
  
  
"name": "Test patch specific - everything to a new randomization group name",
  
  
"request": {
  
  
  
"headers": {},
  
  
  
"method": "PATCH",
  
  
  
"request": {
  
  
  
  
"name": "BranchArm_Name_4",
  
  
  
  
"shortName": "BranchArm_Short_Name_4",
  
  
  
  
"code": "BranchArm_code_4",
  
  
  
  
"description": "desc...",
  
  
  
  
"colourCode": "desc...",
  
  
  
  
"randomizationGroup": "Randomization_Group_4"
  
  
  
},
  
  
  
"url": "/study/study_root/study-branch-arms/StudyBranchArm_000001"
  
  
},
  
  
"response": {
  
  
  
"code": 200,
  
  
  
"headers": {
  
  
  
  
"content-length": "389",
  
  
  
  
"content-type": "application/json"
  
  
  
},
  
  
  
"result": {
  
  
  
  
"studyUid": "study_root",
  
  
  
  
"branchArmUid": "StudyBranchArm_000001",
  
  
  
  
"order": 1,
  
  
  
  
"name": "BranchArm_Name_4",
  
  
  
  
"shortName": "BranchArm_Short_Name_4",
  
  
  
  
"code": "BranchArm_code_4",
  
  
  
  
"startDate": "2020-06-26T00:00:00",
  
  
  
  
"endDate": null,
  
  
  
  
"status": null,
  
  
  
  
"changeType": null,
  
  
  
  
"acceptedVersion": null,
  
  
  
  
"armRoot": {
  
  
  
  
  
"studyUid": "study_root",
  
  
  
  
  
"armUid": "StudyArm_000001",
  
  
  
  
  
"order": 1,
  
  
  
  
  
"name": null,
  
  
  
  
  
"shortName": null,
  
  
  
  
  
"code": null,
  
  
  
  
  
"startDate": null,
  
  
  
  
  
"endDate": null,
  
  
  
  
  
"status": null,
  
  
  
  
  
"changeType": null,
  
  
  
  
  
"acceptedVersion": null,
  
  
  
  
  
"armType": {
  
  
  
  
  
  
"termUid": "term_root_final",
  
  
  
  
  
  
"catalogueName": "SDTM CT",
  
  
  
  
  
  
"codelistUid": "ct_codelist_root1",
  
  
  
  
  
  
"sponsorPreferredName": "term_value_name1",
  
  
  
  
  
  
"sponsorPreferredNameSentenceCase": "term_value_name_sentence_case",
  
  
  
  
  
  
"libraryName": "Sponsor",
  
  
  
  
  
  
"startDate": "2020-06-26T00:00:00",
  
  
  
  
  
  
"order": null,
  
  
  
  
  
  
"endDate": null,
  
  
  
  
  
  
"status": "Final",
  
  
  
  
  
  
"version": "1.0",
  
  
  
  
  
  
"changeDescription": "Approved version",
  
  
  
  
  
  
"userInitials": "TODO initials",
  
  
  
  
  
  
"possibleActions": [
  
  
  
  
  
  
  
"inactivate",
  
  
  
  
  
  
  
"newVersion"
  
  
  
  
  
  
]
  
  
  
  
  
},
  
  
  
  
  
"description": null,
  
  
  
  
  
"armColour": null,
  
  
  
  
  
"numberOfSubjects": null,
  
  
  
  
  
"randomizationGroup": null,
  
  
  
  
  
"userInitials": null
  
  
  
  
},
  
  
  
  
"description": "desc...",
  
  
  
  
"colourCode": "desc...",
  
  
  
  
"numberOfSubjects": 1,
  
  
  
  
"randomizationGroup": "Randomization_Group_4",
  
  
  
  
"userInitials": "TODO initials"
  
  
  
}
  
  
}
  
},
  
{
  
  
"name": "Test all history of specific selection",
  
  
"request": {
  
  
  
"headers": {},
  
  
  
"method": "GET",
  
  
  
"request": {},
  
  
  
"url": "/study/study_root/study-branch-arms/StudyBranchArm_000001/audit-trail/"
  
  
},
  
  
"response": {
  
  
  
"code": 200,
  
  
  
"headers": {
  
  
  
  
"content-length": "389",
  
  
  
  
"content-type": "application/json"
  
  
  
},
  
  
  
"result": [
  
  
  
  
{
  
  
  
  
  
"studyUid": "study_root",
  
  
  
  
  
"order": 1,
  
  
  
  
  
"projectNumber": null,
  
  
  
  
  
"projectName": null,
  
  
  
  
  
"branchArmUid": "StudyBranchArm_000001",
  
  
  
  
  
"name": "BranchArm_Name_4",
  
  
  
  
  
"shortName": "BranchArm_Short_Name_4",
  
  
  
  
  
"code": "BranchArm_code_4",
  
  
  
  
  
"description": "desc...",
  
  
  
  
  
"colourCode": "desc...",
  
  
  
  
  
"randomizationGroup": "Randomization_Group_4",
  
  
  
  
  
"numberOfSubjects": 1,
  
  
  
  
  
"startDate": "2022-08-11T05:46:54.470678",
  
  
  
  
  
"userInitials": "TEST_USER",
  
  
  
  
  
"endDate": null,
  
  
  
  
  
"status": null,
  
  
  
  
  
"changeType": "Edit",
  
  
  
  
  
"acceptedVersion": false,
  
  
  
  
  
"armRootUid": "StudyArm_000001",
  
  
  
  
  
"changes": {
  
  
  
  
  
  
"studyUid": false,
  
  
  
  
  
  
"order": false,
  
  
  
  
  
  
"projectNumber": false,
  
  
  
  
  
  
"projectName": false,
  
  
  
  
  
  
"branchArmUid": false,
  
  
  
  
  
  
"name": true,
  
  
  
  
  
  
"shortName": true,
  
  
  
  
  
  
"code": true,
  
  
  
  
  
  
"description": false,
  
  
  
  
  
  
"colourCode": false,
  
  
  
  
  
  
"randomizationGroup": true,
  
  
  
  
  
  
"numberOfSubjects": false,
  
  
  
  
  
  
"startDate": true,
  
  
  
  
  
  
"userInitials": false,
  
  
  
  
  
  
"endDate": true,
  
  
  
  
  
  
"status": false,
  
  
  
  
  
  
"changeType": true,
  
  
  
  
  
  
"acceptedVersion": false,
  
  
  
  
  
  
"armRootUid": false
  
  
  
  
  
}
  
  
  
  
},
  
  
  
  
{
  
  
  
  
  
"studyUid": "study_root",
  
  
  
  
  
"order": 1,
  
  
  
  
  
"projectNumber": null,
  
  
  
  
  
"projectName": null,
  
  
  
  
  
"branchArmUid": "StudyBranchArm_000001",
  
  
  
  
  
"name": "BranchArm_Name_1",
  
  
  
  
  
"shortName": "BranchArm_Short_Name_1",
  
  
  
  
  
"code": "BranchArm_code_1",
  
  
  
  
  
"description": "desc...",
  
  
  
  
  
"colourCode": "desc...",
  
  
  
  
  
"randomizationGroup": "Randomization_Group_1",
  
  
  
  
  
"numberOfSubjects": 1,
  
  
  
  
  
"startDate": "2022-08-11T05:24:53.229953",
  
  
  
  
  
"userInitials": "TEST_USER",
  
  
  
  
  
"endDate": "2022-08-11T05:46:54.470678",
  
  
  
  
  
"status": null,
  
  
  
  
  
"changeType": "Create",
  
  
  
  
  
"acceptedVersion": false,
  
  
  
  
  
"armRootUid": "StudyArm_000001",
  
  
  
  
  
"changes": {}
  
  
  
  
}
  
  
  
]
  
  
}
  
},
  
{
  
  
"name": "Test patch specific - patch a randomization group name that is in history not actual",
  
  
"request": {
  
  
  
"headers": {},
  
  
  
"method": "PATCH",
  
  
  
"request": {
  
  
  
  
"name": "BranchArm_Name_5",
  
  
  
  
"shortName": "BranchArm_Short_Name_5",
  
  
  
  
"code": "BranchArm_code_5",
  
  
  
  
"description": "desc...",
  
  
  
  
"colourCode": "desc...",
  
  
  
  
"randomizationGroup": "Randomization_Group_1"
  
  
  
},
  
  
  
"url": "/study/study_root/study-branch-arms/StudyBranchArm_000001"
  
  
},
  
  
"response": {
  
  
  
"code": 200,
  
  
  
"headers": {
  
  
  
  
"content-length": "389",
  
  
  
  
"content-type": "application/json"
  
  
  
},
  
  
  
"result": {
  
  
  
  
"studyUid": "study_root",
  
  
  
  
"order": 1,
  
  
  
  
"branchArmUid": "StudyBranchArm_000001",
  
  
  
  
"name": "BranchArm_Name_5",
  
  
  
  
"shortName": "BranchArm_Short_Name_5",
  
  
  
  
"code": "BranchArm_code_5",
  
  
  
  
"description": "desc...",
  
  
  
  
"colourCode": "desc...",
  
  
  
  
"randomizationGroup": "Randomization_Group_1",
  
  
  
  
"numberOfSubjects": 1,
  
  
  
  
"armRoot": {
  
  
  
  
  
"studyUid": "study_root",
  
  
  
  
  
"order": 1,
  
  
  
  
  
"armUid": "StudyArm_000001",
  
  
  
  
  
"name": null,
  
  
  
  
  
"shortName": null,
  
  
  
  
  
"code": null,
  
  
  
  
  
"description": null,
  
  
  
  
  
"armColour": null,
  
  
  
  
  
"randomizationGroup": null,
  
  
  
  
  
"numberOfSubjects": null,
  
  
  
  
  
"armType": {
  
  
  
  
  
  
"termUid": "term_root_final",
  
  
  
  
  
  
"catalogueName": "SDTM CT",
  
  
  
  
  
  
"codelistUid": "ct_codelist_root_endpoint",
  
  
  
  
  
  
"sponsorPreferredName": "term_value_name1",
  
  
  
  
  
  
"sponsorPreferredNameSentenceCase": "term_value_name_sentence_case",
  
  
  
  
  
  
"order": 1,
  
  
  
  
  
  
"libraryName": "Sponsor",
  
  
  
  
  
  
"startDate": "2022-05-11T06:52:00.115000",
  
  
  
  
  
  
"endDate": null,
  
  
  
  
  
  
"status": "Final",
  
  
  
  
  
  
"version": "1.0",
  
  
  
  
  
  
"changeDescription": "Approved version",
  
  
  
  
  
  
"userInitials": "TODO initials",
  
  
  
  
  
  
"possibleActions": [
  
  
  
  
  
  
  
"inactivate",
  
  
  
  
  
  
  
"newVersion"
  
  
  
  
  
  
]
  
  
  
  
  
},
  
  
  
  
  
"startDate": "2022-05-11T06:52:02.569000",
  
  
  
  
  
"userInitials": "TODO user initials",
  
  
  
  
  
"endDate": null,
  
  
  
  
  
"status": null,
  
  
  
  
  
"changeType": null,
  
  
  
  
  
"acceptedVersion": null
  
  
  
  
},
  
  
  
  
"startDate": "2022-05-11T08:52:26.575638",
  
  
  
  
"userInitials": "TEST_USER",
  
  
  
  
"endDate": null,
  
  
  
  
"status": null,
  
  
  
  
"changeType": null,
  
  
  
  
"acceptedVersion": null
  
  
  
}
  
  
}
  
},
  
{
  
  
"name": "Test patch specific - patch some randomization group that is already used on another branch",
  
  
"request": {
  
  
  
"headers": {},
  
  
  
"method": "PATCH",
  
  
  
"request": {
  
  
  
  
"name": "BranchArm_Name_8",
  
  
  
  
"shortName": "BranchArm_Short_Name_8",
  
  
  
  
"code": "BranchArm_code_8",
  
  
  
  
"description": "desc...",
  
  
  
  
"colourCode": "desc...",
  
  
  
  
"randomizationGroup": "Randomization_Group_2"
  
  
  
},
  
  
  
"url": "/study/study_root/study-branch-arms/StudyBranchArm_000001"
  
  
},
  
  
"response": {
  
  
  
"code": 400,
  
  
  
"result": {
  
  
  
  
"message": "Value \"Randomization_Group_2\" in field Branch Arm Randomization code is not unique for the study",
  
  
  
  
"method": "PATCH",
  
  
  
  
"path": "http://testserver/study/study_root/study-branch-arms/StudyBranchArm_000001",
  
  
  
  
"time": "2020-11-10T01:51:17.884429",
  
  
  
  
"type": "ValidationException"
  
  
  
}
  
  
}
  
}
]